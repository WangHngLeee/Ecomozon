{"ast":null,"code":"var _jsxFileName = \"/Users/hongliwang/Desktop/\\u9879\\u76EE/Ecomozon/frontend/src/screens/PlaceOrderScreen.js\";\nimport React, { useEffect } from \"react\";\nimport { addToCart, removeFromCart } from \"../actions/cartAction\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport CheckoutSteps from \"../components/CheckoutSteps\";\nimport { createOrder } from \"../actions/orderActions\";\n\nfunction PlaceOrderScreen(props) {\n  const cart = useSelector(state => state.cart);\n  const orderCreate = useSelector(state => state.orderCreate);\n  const {\n    loading,\n    success,\n    error,\n    order\n  } = orderCreate;\n  const {\n    cartItems,\n    shipping,\n    payment\n  } = cart;\n\n  if (!shipping.address) {\n    props.history.push('/shipping');\n  } else if (!payment.paymentMethod) {\n    props.history.push('/payment');\n  }\n\n  const itemsPrice = cartItems.reduce((a, c) => a + c.price * c.qty, 0);\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\n  const taxPrice = 0.15 * itemsPrice;\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\n  const dispatch = useDispatch();\n\n  const placeOrderHandler = () => {\n    dispatch(createOrder({\n      orderItems: cartItems,\n      shipping,\n      payment,\n      itemsPrice,\n      shippingPrice,\n      taxPrice,\n      totalPrice\n    }));\n  };\n\n  useEffect(() => {\n    if (success) {\n      props.history.push(\"/order/\" + order._id);\n    }\n  }, [success]);\n\n  const checkoutHandler = () => {\n    props.history.push(\"/signin?redirect=shipping\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutSteps, {\n    step1: true,\n    step2: true,\n    step3: true,\n    step4: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"placeorder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"placeorder-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, cart.shipping.address, \",\", cart.shipping.city, \",\", cart.shipping.postalCode, \",\", cart.shipping.country)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Payment\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Payment Method: \", cart.payment.paymentMethod)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"cart-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Shopping Cart\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Price\")), cartItems.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Cart is empty\") : cartItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/product/\" + item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 23\n    }\n  }, \"Qty: \", item.qyt, \";\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"$\", item.price)))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"placeorder-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button primary full-width\",\n    onClick: placeOrderHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Place Order\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, \"Order Summary\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"Items\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"$\", itemsPrice)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, \"$\", shippingPrice)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, \"Tax\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"$\", taxPrice)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, \"Order Total\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"$\", totalPrice))), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Subtotal ( \", cartItems.reduce((a, c) => a + c.qty, 0), \" items) : $\", \" \", cartItems.reduce((a, c) => a + c.price * c.qty, 0)))));\n}\n\nexport default PlaceOrderScreen;","map":{"version":3,"sources":["/Users/hongliwang/Desktop/项目/Ecomozon/frontend/src/screens/PlaceOrderScreen.js"],"names":["React","useEffect","addToCart","removeFromCart","useDispatch","useSelector","Link","CheckoutSteps","createOrder","PlaceOrderScreen","props","cart","state","orderCreate","loading","success","error","order","cartItems","shipping","payment","address","history","push","paymentMethod","itemsPrice","reduce","a","c","price","qty","shippingPrice","taxPrice","totalPrice","dispatch","placeOrderHandler","orderItems","_id","checkoutHandler","city","postalCode","country","length","map","item","image","product","name","qyt"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { addToCart, removeFromCart } from \"../actions/cartAction\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport CheckoutSteps from \"../components/CheckoutSteps\";\nimport { createOrder } from \"../actions/orderActions\";\nfunction PlaceOrderScreen(props) {\n  const cart = useSelector((state) => state.cart);\n  const orderCreate = useSelector((state) => state.orderCreate);\n  const {loading, success, error, order} = orderCreate\n  const { cartItems, shipping, payment } = cart;\n  \n  if(!shipping.address){\n      props.history.push('/shipping');\n  }else if(!payment.paymentMethod){\n      props.history.push('/payment');\n  }\n  const itemsPrice = cartItems.reduce((a,c) => a + c.price*c.qty, 0);\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\n  const taxPrice = 0.15 * itemsPrice;\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\n\n  const dispatch = useDispatch();\n\n  const placeOrderHandler = () =>{\n    dispatch(createOrder({ orderItems: cartItems, shipping, payment, itemsPrice, shippingPrice, taxPrice, totalPrice }))\n  }\n  useEffect(() => {\n    if(success){\n        props.history.push(\"/order/\" + order._id);\n    }\n  }, [success]);\n\n  const checkoutHandler = () => {\n    props.history.push(\"/signin?redirect=shipping\");\n  };\n\n  return (\n    <div>\n      <CheckoutSteps step1 step2 step3 step4></CheckoutSteps>\n      <div className=\"placeorder\">\n        <div className=\"placeorder-info\">\n          <div>\n            <h3>Shipping</h3>\n            <div>\n              {cart.shipping.address},{cart.shipping.city},\n              {cart.shipping.postalCode},{cart.shipping.country}\n            </div>\n          </div>\n          <div>\n            <h3>Payment</h3>\n            <div>Payment Method: {cart.payment.paymentMethod}</div>\n          </div>\n          <div>\n            <ul className=\"cart-list-container\">\n              <li>\n                <h3>Shopping Cart</h3>\n                <div>Price</div>\n              </li>\n              {cartItems.length === 0 ? (\n                <div>Cart is empty</div>\n              ) : (\n                cartItems.map((item) => (\n                  <li>\n                    <div className=\"cart-image\">\n                      <img src={item.image} alt=\"product\" />\n                    </div>\n                    <div className=\"cart-name\">\n                      <div>\n                        <Link to={\"/product/\" + item.product}>{item.name}</Link>\n                      </div>\n                      <div>\n                        Qty: {item.qyt};\n                      </div>\n                    </div>\n                    <div className=\"cart-price\">${item.price}</div>\n                  </li>\n                ))\n              )}\n            </ul>\n          </div>\n        </div>\n        <div className=\"placeorder-action\">\n            <ul>\n                <li>\n                    <button className= \"button primary full-width\" onClick={placeOrderHandler} >Place Order</button>\n                </li>\n                <li>\n                    <h3>Order Summary</h3>\n                </li>\n                <li>\n                    <div>Items</div>\n                    <div>${itemsPrice}</div>\n                </li>\n                <li>\n                    <div>Shipping</div>\n                    <div>${shippingPrice}</div>\n                </li>\n                <li>\n                    <div>Tax</div>\n                    <div>${taxPrice}</div>\n                </li>\n                <li>\n                    <div>Order Total</div>\n                    <div>${totalPrice}</div>\n                </li>\n            </ul>\n          <h3>\n            Subtotal ( {cartItems.reduce((a, c) => a + c.qty, 0)} items) : ${\" \"}\n            {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\n          </h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PlaceOrderScreen;\n"]},"metadata":{},"sourceType":"module"}